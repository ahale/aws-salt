// WARNING
//
// Do NOT edit this file while ZNC is running!
// Use webadmin or *controlpanel instead.
//
// Altering this file by hand will forfeit all support.
//
// But if you feel risky, you might want to read help on /znc saveconfig and /znc rehash.
// Also check http://en.znc.in/wiki/Configuration

Version = 1.6.3
<Listener l>
	Port = {{ pillar['secrets']['znc']['listener']['port'] }}
	IPv4 = {{ pillar['secrets']['znc']['listener']['ipv4'] }}
	IPv6 = {{ pillar['secrets']['znc']['listener']['ipv6'] }}
	SSL = {{ pillar['secrets']['znc']['listener']['ssl'] }}
</Listener>
{%- for module in pillar['secrets']['znc']['global']['modules'] %}
LoadModule {{ module }}
{%- endfor %}

{%- for user in pillar['secrets']['znc']['users'] %}
<User {{ user }}>
    Pass       = {{ pillar['secrets']['znc']['users']['%s' % user]['pass'] }}
    Admin      = {{ pillar['secrets']['znc']['users']['%s' % user]['admin'] }}
    Nick       = {{ pillar['secrets']['znc']['users']['%s' % user]['nick'] }}
    AltNick    = {{ pillar['secrets']['znc']['users']['%s' % user]['altnick'] }}
    Ident      = {{ pillar['secrets']['znc']['users']['%s' % user]['ident'] }}
    RealName   = {{ pillar['secrets']['znc']['users']['%s' % user]['realname'] }}
    {%- for module in pillar['secrets']['znc']['users']['%s' % user]['modules'] %}
    LoadModule {{ module }}
    {%- endfor %}
    {%- for network in pillar['secrets']['znc']['users']['%s' % user]['networks'] %}
    <Network {{ network }}>
        {%- for module in pillar['secrets']['znc']['users']['%s' % user]['networks']['%s' % network]['modules'] %}
        LoadModule {{ module }}
        {%- endfor %}
        Server     = {{ pillar['secrets']['znc']['users']['%s' % user]['networks']['%s' % network]['server'] }}
        {%- for channel in pillar['secrets']['znc']['users']['%s' % user]['networks']['%s' % network]['channels'] %}
        <Chan {{ channel }}>
        </Chan>
        {%- endfor %}
    </Network>
</User>
{%- endfor %}
